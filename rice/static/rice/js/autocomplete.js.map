{"version":3,"sources":["getData.js","autocomplete.js"],"names":["getData","url","fetch","headers","Accept","response","json","Error","searchElem","document","querySelector","autocomplete","clearResults","ulElem","removeChild","selectData","event","value","target","innerText","onInput","inputText","toLowerCase","data","matched","filter","item","startsWith","createElement","length","forEach","liElem","onmousedown","appendChild","addEventListener"],"mappings":"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","file":"autocomplete.js","sourceRoot":"..\\src\\js","sourcesContent":["async function getData(url) {\n  try {\n    const response = await fetch(url, {\n      headers: {\n        Accept: 'application/json',\n        'X-Requested-With': 'XMLHttpRequest',\n      },\n    });\n    return response.json();\n  } catch (err) {\n    throw new Error('Something failed');\n  }\n}\n\nexport default getData;\n","import getData from './getData';\n\nconst searchElem = document.querySelector('.search-form__input');\nconst autocomplete = document.querySelector('.search-form__autocomplete');\n\nfunction clearResults() {\n  const ulElem = autocomplete.querySelector('ul');\n  if (ulElem) {\n    autocomplete.removeChild(ulElem);\n  }\n}\n\nfunction selectData(event) {\n  searchElem.value = event.target.innerText;\n  clearResults();\n}\n\nasync function onInput(event) {\n  const inputText = event.target.value.toLowerCase();\n  clearResults();\n  if (inputText) {\n    const data = await getData('./get-data');\n    const matched = data.data.filter((item) =>\n      item.toLowerCase().startsWith(inputText)\n    );\n    const ulElem = document.createElement('ul');\n    if (matched.length !== 0) {\n      matched.forEach((item) => {\n        const liElem = document.createElement('li');\n        liElem.innerText = item;\n        liElem.onmousedown = selectData;\n        ulElem.appendChild(liElem);\n      });\n      autocomplete.appendChild(ulElem);\n    } else {\n      clearResults();\n    }\n  }\n}\n\nsearchElem.addEventListener('input', onInput);\nsearchElem.addEventListener('keydown', onInput);\nsearchElem.addEventListener('focus', onInput);\nsearchElem.addEventListener('blur', clearResults);\n"]}